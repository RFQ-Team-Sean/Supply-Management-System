<div class="section flex flex-col max-w-[450px]">
  <h1 id="login" class="text-2xl font-bold text-center" style="color: var(--color-primary);">Login</h1>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="mt-4">
    <div class="flex flex-col w-full">
      <label for="email">Email</label>
      <input 
        id="email"
        type="email"
        formControlName="email"
        class="mt-1 p-2 border rounded-md w-full"
        aria-describedby="emailError"
      />
      <div 
        id="emailError"
        class="text-red-500 text-sm mt-1" 
        *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
      >
        <span *ngIf="loginForm.get('email')?.errors?.['required']">Email is required</span>
        <span *ngIf="loginForm.get('email')?.errors?.['email']">Please enter a valid email</span>
      </div>
    </div>

    <div class="flex flex-col mt-4 w-full">
      <label for="password">Password</label>
      <input 
        id="password"
        type="password"
        formControlName="password"
        class="mt-1 p-2 border rounded-md w-full"
        aria-describedby="passwordError"
      />
      <div 
        id="passwordError"
        class="text-red-500 text-sm mt-1" 
        *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
      >
        <span *ngIf="loginForm.get('password')?.errors?.['required']">Password is required</span>
        <span *ngIf="loginForm.get('password')?.errors?.['minlength']">
          Password must be at least 6 characters
        </span>
      </div>
    </div>

    <div class="mt-2 text-red-500 text-sm text-center" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>

    <button 
      type="submit" 
      class="w-full mt-4 p-2 rounded-md text-white"
      [style.background-color]="'var(--color-primary)'"
      [disabled]="isLoading || loginForm.invalid"
    >
      {{ isLoading ? 'Signing in...' : 'Sign in' }}
    </button>
  </form>

  <div class="flex flex-col mt-4 w-full space-y-2">
    <button 
      class="p-2 rounded-md border hover:bg-gray-50"
      (click)="autoSignIn('gso@gmail.com', 'password')"
    >
      Sign in as General Service Office
    </button>

    <button 
      class="p-2 rounded-md border hover:bg-gray-50"
      (click)="autoSignIn('admin@gmail.com', 'password')"
    >
      Sign in as Admin
    </button>

    <button 
      class="p-2 rounded-md border hover:bg-gray-50"
      (click)="autoSignIn('department@gmail.com', 'password')"
    >
      Sign in as Department User
    </button>

    <button 
      class="p-2 rounded-md border hover:bg-gray-50"
      (click)="autoSignIn('property@gmail.com', 'password')"
    >
      Sign in as Property Officer
    </button>

    <button 
      class="p-2 rounded-md border hover:bg-gray-50"
      (click)="autoSignIn('bac@gmail.com', 'password')"
    >
      Sign in as BAC Staff
    </button>
  </div>
</div>
